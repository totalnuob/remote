<div class="container">
    <div class="row top-buffer" >
        <div class="col-md-12">
            <ol class="breadcrumb">
                <li><a [routerLink]="['/pe/firmSearch']">Firm Search</a></li>
                <li><a [routerLink]="['/pe/firmProfile',fund?.firm?.id]">Firm profile</a></li>
                <li class="active">Fund profile</li>
            </ol>
        </div>
    </div>
    <div class="row top-buffer" >
        <div class="col-md-12">
            <div class="alert alert-info" *ngIf="successMessage != null"><span>{{successMessage}}</span>
            </div>
        </div>
    </div>
    <div class="row top-buffer" >
        <div class="col-md-12">
            <div class="alert alert-danger" *ngIf="errorMessage != null"><span>{{errorMessage}}</span>
            </div>
        </div>
    </div>

    <ul class="nav nav-tabs" id="tabs">
        <li class="active">
            <a data-toggle="tab" href="#fund">FUND</a>
        </li>
        <li>
            <a data-toggle="tab" href="#idd">IDD</a>
        </li>
        <li>
            <a data-toggle="tab" href="#netCashflow">NET CASHFLOW</a>
        </li>
    </ul>
    <div class="tab-content">
        <div id="fund" class="tab-pane fade in active">
            <div style="position: relative;">
                <br/>
                <ul class="nav nav-tabs" id="tabs-fund">
                    <li class="active">
                        <a data-toggle="tab" href="#overview">OVERVIEW</a>
                    </li>
                    <li>
                        <a data-toggle="tab" href="#performanceFund">PERFORMANCE</a>
                    </li>
                    <li>
                        <a data-toggle="tab" href="#createOnePager">CREATE ONE PAGER</a>
                    </li>
                </ul>
                <div class="tab-content">
                    <div id="overview" class="tab-pane fade in active">
                        <div style="position: relative;">
                            <div [ngBusy]="busy">
                                <br/>
                                <div class="row withpadding">
                                    <h4>Manager Details</h4>
                                    <table class=" col-md-4 table-striped table-condensed">
                                        <tr>
                                            <td class="col-md-1"><b>GP Name</b></td>
                                            <td class="col-md-3">
                                                <a [routerLink]="['/pe/firmProfile/', fund?.firm?.id]">{{fund?.firm?.firmName}}</a></td>
                                        </tr>
                                        <tr>
                                            <td class="col-md-1"><b>AUM (mln)</b></td>
                                            <td class="col-md-3">{{fund?.firm?.aum}}</td>
                                        </tr>
                                        <tr>
                                            <td class="col-md-1"><b>Inception</b></td>
                                            <td class="col-md-3">{{fund?.firm?.foundedYear}}
                                            </td>
                                        </tr>
                                    </table>
                                    <table class=" col-md-4 table-striped table-condensed">
                                        <tr>
                                            <td class="col-md-3"><b>Inv team (ops team)</b></td>
                                            <td class="col-md-3">{{fund?.firm?.invTeamSize}}({{fund?.firm?.opsTeamSize}})</td>
                                        </tr>
                                        <tr>
                                            <td class="col-md-1"><b>Strategy focus</b></td>
                                            <td class="col-md-3">{{firmStrategyList.toString()}}</td>
                                        </tr>
                                    </table>
                                    <table class=" col-md-4 table-striped table-condensed">
                                        <tr>
                                            <td class="col-md-1"><b>Industry focus</b></td>
                                            <td class="col-md-3">{{firmIndustryList.toString()}}</td>
                                        </tr>
                                        <tr>
                                            <td class="col-md-1"><b>Geography focus</b></td>
                                            <td class="col-md-3">{{firmGeographyList.toString()}}</td>
                                        </tr>
                                    </table>
                                </div>
                                <hr>
                                <form (ngSubmit)="save()" #fundForm="ngForm" class="well span">
                                    <div class="row">
                                        <div class="col-md-1">
                                            <label><b>Fund name</b></label>
                                        </div>
                                        <div class="col-md-4">
                                            <input type="text" class="form-control" placeholder="Enter fund name..."
                                                   name="fundName" [(ngModel)]="fund.fundName" required #name="ngModel"/>
                                            <div [hidden]="name.valid || name.pristine" class="alert alert-danger">Name is required</div>
                                        </div>
                                        <div class="col-md-1">
                                            <label><b>Status</b></label>
                                        </div>
                                        <div class="col-md-3">
                                            <select id="fundStatus" class="form-control" name="status" [(ngModel)]="fund.status" (ngModelChange)="toggle()">
                                                <option value="Closed" selected>Closed</option>
                                                <option value="Open">Open</option>
                                                <option value="Opening soon">Opening soon</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div [hidden]="!openingSoon">
                                        <div class="row">
                                            <div class="col-md-1">
                                                <label><b>Opening Schedule</b></label>
                                            </div>
                                            <div class="col-md-3">
                                                <select id="openingSchedule" class="form-control" name="openingSchedule" [(ngModel)]="fund.openingSchedule">
                                                    <option *ngFor="let item of openingScheduleList" [value]="item.code">{{item.nameEn}}</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                    <div [hidden]="!visible">
                                        <br>
                                        <div class="row withpadding">
                                            <div class="row">
                                                <div class="col-md-4">
                                                    <h4>Fund Details</h4>
                                                </div>
                                                <div class="col-md-4">
                                                    <div class="col-md-4"><b>As of date</b></div>
                                                    <div class="col-md-6"><input type='text' class="form-control" id="asOfDateOpenFund" name="asOfDateOpenFund" [(ngModel)]="fund.asOfDate"/></div>
                                                </div>
                                                <div class="col-md-4">
                                                    <td class="col-md-4"><b>NIC status</b></td>
                                                    <td class="col-md-6">
                                                        <select id="nicStatus" class="form-control" name="nicStatus" [(ngModel)]="fund.nicStatus">
                                                            <option value="None" selected>--</option>
                                                            <option value="IDD">IDD</option>
                                                            <option value="ODD">ODD</option>
                                                        </select>
                                                    </td>
                                                </div>
                                            </div>
                                            <table class=" col-md-4 table-striped table-condensed">
                                                <tr>
                                                    <td class="col-md-1">Fund size</td>
                                                    <td class="col-md-3"><input style="width: 100%" type="text" name="fundSize" [(ngModel)]="fund.fundSize" pattern="[+]?[0-9]*\.?[0-9]+" #fundSize2="ngModel"/>
                                                        <div [hidden]="fundSize2.valid || fundSize2.pristine" class="alert alert-danger">
                                                            Only positive number could be entered
                                                        </div>
                                                        <select id="currency" class="form-control" name="currency" [(ngModel)] = "fund.currency">
                                                            <option *ngFor="let item of currencyList" name="code" [value]="item.code">{{item.nameEn}}</option>
                                                        </select>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td class="col-md-1">Predecessor fund invested, %</td>
                                                    <td class="col-md-3"><input style="width: 100%" type="text" name="predecessorInvestedPct" [(ngModel)]="fund.predecessorInvestedPct"
                                                                                pattern="[+]?[0-9]*\.?[0-9]+" #predecessorInvestedPct="ngModel"/>
                                                        <div [hidden]="predecessorInvestedPct.valid || predecessorInvestedPct.pristine" class="alert alert-danger">
                                                            Only positive number could be entered
                                                        </div>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td class="col-md-1">Target size / Hard cap</td>
                                                    <td class="col-md-3">
                                                        <input style="width: 30%" type="text" name="targetSize" [(ngModel)]="fund.targetSize" pattern="[+]?[0-9]*\.?[0-9]+" #targetSize="ngModel"/><input style="width: 70%" type="text" name="targetHardCapComment" [(ngModel)]="fund.targetHardCapComment" placeholder="Comment"/>
                                                        <div [hidden]="targetSize.valid || targetSize.pristine" class="alert alert-danger">
                                                            Only positive number could be entered
                                                        </div>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td class="col-md-1">GP commitment</td>
                                                    <td class="col-md-3"><input style="width: 100%" type="text" name="gpCommitment" [(ngModel)]="fund.gpCommitment" pattern="[+]?[0-9]*\.?[0-9]+" #gpCommitment="ngModel"/>
                                                        <div [hidden]="gpCommitment.valid || gpCommitment.pristine" class="alert alert-danger">
                                                            Only positive number could be entered
                                                        </div>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td class="col-md-1">Management fee</td>
                                                    <td class="col-md-3"><input style="width: 100%" type="text" name="managementFee" [(ngModel)]="fund.managementFee" pattern="[+]?[0-9]*\.?[0-9]+" #managementFee="ngModel"/>
                                                        <div [hidden]="managementFee.valid || managementFee.pristine" class="alert alert-danger">
                                                            Only positive number could be entered
                                                        </div>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td class="col-md-1">Management fee comment</td>
                                                    <td class="col-md-3"><input style="width: 100%" type="text" name="managementFeeComment" [(ngModel)]="fund.managementFeeComment"/></td>
                                                </tr>
                                            </table>
                                            <table class=" col-md-4 table-striped table-condensed">
                                                <tr>
                                                    <td class="col-md-1">Carried interest</td>
                                                    <td class="col-md-3"><input style="width: 100%" type="text" name="carriedInterest" [(ngModel)]="fund.carriedInterest" pattern="[+]?[0-9]*\.?[0-9]+" #carriedInterest="ngModel"/>
                                                        <div [hidden]="carriedInterest.valid || carriedInterest.pristine" class="alert alert-danger">
                                                            Only positive number could be entered
                                                        </div>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td class="col-md-1">Hurdle rate</td>
                                                    <td class="col-md-3"><input style="width: 100%" type="text" name="hurdleRate" [(ngModel)]="fund.hurdleRate" pattern="[+]?[0-9]*\.?[0-9]+" #hurdleRate="ngModel"/>
                                                        <div [hidden]="hurdleRate.valid || hurdleRate.pristine" class="alert alert-danger">
                                                            Only positive number could be entered
                                                        </div>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td class="col-md-1">Industry</td>
                                                    <td class="col-md-3" *ngIf="industryList?.length > 0">
                                                        <ng-select #industrySelect [initData]="fund.industry"
                                                                   [multiple]="true"
                                                                   [items]="industryList"
                                                                   (data)="refreshIndustry($event)"
                                                                   (selected)="selected($event)"
                                                                   (removed)="removed($event)"
                                                                   placeholder="No industry selected"></ng-select>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td class="col-md-1">Strategy</td>
                                                    <td class="col-md-3" *ngIf="strategyList?.length > 0">
                                                        <ng-select #strategySelect [initData]="fund.strategy"
                                                                   [multiple]="true"
                                                                   [items]="strategyList"
                                                                   (data)="refreshStrategy($event)"
                                                                   (selected)="selected($event)"
                                                                   (removed)="removed($event)"
                                                                   placeholder="No strategy selected"></ng-select>
                                                </tr>
                                                <tr>
                                                    <td class="col-md-1">Geography</td>
                                                    <td class="col-md-3" *ngIf="geographyList?.length > 0">
                                                        <ng-select #geographySelect [initData]="fund.geography"
                                                                   [multiple]="true"
                                                                   [items]="geographyList"
                                                                   (data)="refreshGeography($event)"
                                                                   (selected)="selected($event)"
                                                                   (removed)="removed($event)"
                                                                   placeholder="No geography selected"></ng-select>
                                                    </td>
                                                </tr>
                                            </table>
                                        </div>
                                    </div>

                                    <form [hidden]="visible">
                                        <div class="row">
                                            <div class="col-md-1">
                                                <label><b>Vintage</b></label>
                                            </div>
                                            <div class="col-md-4">
                                                <input type="text" class="form-control" placeholder="Enter vintage"
                                                       name="vintage" [(ngModel)]="fund.vintage" pattern="[1-2][0-9][0-9][0-9]" #vintage="ngModel"/>
                                                <div [hidden]="vintage.valid || vintage.pristine" class="alert alert-danger">
                                                    Please enter a valid year
                                                </div>
                                            </div>
                                        </div>

                                        <div class="row top-buffer">
                                            <div class="col-md-1">
                                                <label><b>Fund size</b></label>
                                            </div>
                                            <div class="col-md-4">
                                                <input type="text" class="form-control" placeholder="Enter fund size"
                                                       name="fundSize" [(ngModel)]="fund.fundSize" pattern="[+]?[0-9]*\.?[0-9]+" #fundSize="ngModel"/>
                                                <div [hidden]="fundSize.valid || fundSize.pristine" class="alert alert-danger">
                                                    Only positive number could be entered
                                                </div>
                                            </div>
                                        </div>
                                        <br>
                                        <!--<div class="row">-->
                                            <!--<div class="col-md-2">-->
                                                <!--<label><b>Upload Gross Cash Flows</b></label>-->
                                            <!--</div>-->
                                            <!--<div class="col-md-1">-->
                                                <!--<a class="btn btn-info btn-sm" data-toggle="modal"-->
                                                   <!--data-target="#grossCfInputModal">-->
                                                    <!--<span class="glyphicon glyphicon-circle-arrow-up"></span>-->
                                                <!--</a>-->
                                            <!--</div>-->
                                        <!--</div>-->
                                        <!--<div class="row">-->
                                            <!--<div class="col-md-2">-->
                                                <!--<label><b>Upload Net Cash Flows</b></label>-->
                                            <!--</div>-->
                                            <!--<div class="col-md-1">-->
                                                <!--<a class="btn btn-info btn-sm" data-toggle="modal"-->
                                                   <!--data-target="#netCfInputModal">-->
                                                    <!--<span class="glyphicon glyphicon-circle-arrow-up"></span>-->
                                                <!--</a>-->
                                            <!--</div>-->
                                        <!--</div>-->
                                        <!--<div class="row">-->
                                            <!--<div class="modal fade" id="grossCfInputModal" role="dialog">-->
                                                <!--<div class="modal-dialog" style="overflow-y: scroll; max-height:85%; margin-top: 50px; margin-bottom: 50px;">-->
                                                    <!--<div class="modal-content">-->
                                                        <!--<div class="modal-header">-->
                                                            <!--<button type="button" class="close" data-dismiss="modal">&times;</button>-->
                                                        <!--</div>-->
                                                        <!--<div class="modal-body">-->
                                                            <!--<textarea fz-elastic class="form-control" name="uploadedGrossCf" [(ngModel)]="uploadedGrossCf"></textarea>-->
                                                        <!--</div>-->
                                                        <!--<div class="modal-footer">-->
                                                            <!--<button type="button" class="btn btn-default pull-left" data-dismiss="modal">Cancel</button>-->
                                                            <!--<button type="button" class="btn btn-default pull-left" (click)="grossCfParse()" data-dismiss="modal" >Add</button>-->
                                                        <!--</div>-->
                                                    <!--</div>-->
                                                <!--</div>-->
                                            <!--</div>-->
                                        <!--</div>-->
                                        <!--<div class="row">-->
                                            <!--<div class="modal fade" id="netCfInputModal" role="dialog">-->
                                                <!--<div class="modal-dialog" style="overflow-y: scroll; max-height:85%; margin-top: 50px; margin-bottom: 50px;">-->
                                                    <!--<div class="modal-content">-->
                                                        <!--<div class="modal-header">-->
                                                            <!--<button type="button" class="close" data-dismiss="modal">&times;</button>-->
                                                        <!--</div>-->
                                                        <!--<div class="modal-body">-->
                                                            <!--<textarea fz-elastic class="form-control" name="uploadedNetCf" [(ngModel)]="uploadedNetCf"></textarea>-->
                                                        <!--</div>-->
                                                        <!--<div class="modal-footer">-->
                                                            <!--<button type="button" class="btn btn-default pull-left" data-dismiss="modal">Cancel</button>-->
                                                            <!--<button type="button" class="btn btn-default pull-left" (click)="netCfParse()" data-dismiss="modal" >Add</button>-->
                                                        <!--</div>-->
                                                    <!--</div>-->
                                                <!--</div>-->
                                            <!--</div>-->
                                        <!--</div>-->
                                    </form>

                                    <form [hidden]="openingSoon">
                                        <hr>
                                        <div class="row withpadding">
                                            <h4>Key fund statistics</h4>
                                            <div class="col-md-1">
                                                <label><b>Type of input</b></label>
                                            </div>
                                            <div class="col-md-4">
                                                <select id="calculationType" name="calculationType" class="form-control" [(ngModel)]="fund.calculationType" (ngModelChange)="statisticsAutoCalculation()">
                                                    <option value="0">Manual</option>
                                                    <option value="1">Auto calculation by PERFORMANCE</option>
                                                    <option value="2">Auto calculation by GROSS CASH FLOW</option>
                                                </select>
                                            </div>
                                            <!--<h5>Auto calculation by PERFORMANCE tab</h5>-->
                                            <!--<div class="onoffswitch">-->
                                                <!--<input type="checkbox" name="onoffswitch" class="onoffswitch-checkbox" id="myonoffswitch" [(ngModel)]="fund.autoCalculation" (ngModelChange)="autoCalculationStatistics()" unchecked>-->
                                                <!--<label class="onoffswitch-label" for="myonoffswitch">-->
                                                    <!--<span class="onoffswitch-inner"></span>-->
                                                    <!--<span class="onoffswitch-switch"></span>-->
                                                <!--</label>-->
                                            <!--</div>-->
                                        </div>
                                        <div class="row withpadding">
                                            <table class="table-striped table-condensed">
                                                <tr>
                                                    <td class="col-md-2"><b>Number of investments</b></td>
                                                    <td class="col-md-1" *ngIf="fund.calculationType == 0"><input style="width: 100%" type="text" name="numberOfInv" [(ngModel)]="fund.numberOfInvestments" placeholder="-" pattern="[+]?[0-9]*\.?[0-9]+" [disabled]="fund.calculationType != 0" #numOfInv="ngModel"/>
                                                        <div [hidden]="numOfInv.valid || numOfInv.pristine" class="alert alert-danger">
                                                            Only positive number could be entered
                                                        </div>
                                                    </td>
                                                    <td class="col-md-1" *ngIf="fund.calculationType != 0">
                                                        {{fund.numberOfInvestments}}
                                                    </td>
                                                    <td class="col-md-1"><b>DPI</b></td>
                                                    <td class="col-md-1" *ngIf="fund.calculationType == 0"><input style="width: 100%" type="text" name="dpi" [(ngModel)]="fund.dpi" placeholder="-" pattern="[+]?[0-9]*\.?[0-9]+" [disabled]="fund.calculationType != 0" #dpi="ngModel"/>
                                                        <div [hidden]="dpi.valid || dpi.pristine" class="alert alert-danger">
                                                            Only positive number could be entered
                                                        </div>
                                                    </td>
                                                    <td class="col-md-1" *ngIf="fund.calculationType != 0">
                                                        {{fund.dpi | number:'1.2-2'}}
                                                    </td>
                                                    <td class="col-md-1"></td>
                                                    <td class="col-md-1"></td>
                                                    <td class="col-md-2"><b>Benchmark</b></td>
                                                    <td class="col-md-1"><input style="width: 100%" type="text" name="benchmark" [(ngModel)]="fund.benchmarkName" placeholder="-"></td>
                                                </tr>
                                                <tr>
                                                    <td class="col-md-2"><b>Invested amount</b></td>
                                                    <td class="col-md-1" *ngIf="fund.calculationType == 0"><input style="width: 100%" type="text" name="invested" [(ngModel)]="fund.investedAmount" placeholder="-" pattern="[+]?[0-9]*\.?[0-9]+" [disabled]="fund.calculationType != 0" #invested="ngModel"/>
                                                        <div [hidden]="invested.valid || invested.pristine" class="alert alert-danger">
                                                            Only positive number could be entered
                                                        </div>
                                                    </td>
                                                    <td class="col-md-1" *ngIf="fund.calculationType != 0">
                                                        {{(fund.investedAmount/1000000) | number:'1.1-2'}}m
                                                    </td>
                                                    <td class="col-md-1"><b>Gross TVPI</b></td>
                                                    <td class="col-md-1" *ngIf="fund.calculationType == 0"><input style="width: 100%" type="text" name="grossTvpi" [(ngModel)]="fund.grossTvpi" placeholder="-" pattern="[+]?[0-9]*\.?[0-9]+" [disabled]="fund.calculationType != 0" #grossTvpi="ngModel"/>
                                                        <div [hidden]="grossTvpi.valid || grossTvpi.pristine" class="alert alert-danger">
                                                            Only positive number could be entered
                                                        </div>
                                                    </td>
                                                    <td class="col-md-1" *ngIf="fund.calculationType != 0">
                                                        {{fund.grossTvpi | number:'1.2-2'}}
                                                    </td>
                                                    <td class="col-md-1"><b>Net TVPI</b></td>
                                                    <td class="col-md-1"><input style="width: 100%" type="text" name="netTvpi" [(ngModel)]="fund.netTvpi" placeholder="-" pattern="[+]?[0-9]*\.?[0-9]+" #netTvpi="ngModel"/>
                                                        <div [hidden]="netTvpi.valid || netTvpi.pristine" class="alert alert-danger">
                                                            Only positive number could be entered
                                                        </div>
                                                    </td>
                                                    <!--<td class="col-md-1">{{fund.netTvpi}}</td>-->
                                                    <td class="col-md-2"><b>Benchmark NET TVPI</b></td>
                                                    <td class="col-md-1"><input style="width: 100%" type="text" name="benchmarkNetTvpi" [(ngModel)]="fund.benchmarkNetTvpi" placeholder="-" pattern="[+]?[0-9]*\.?[0-9]+" #benchmarkNetTvpi="ngModel"/>
                                                        <div [hidden]="benchmarkNetTvpi.valid || benchmarkNetTvpi.pristine" class="alert alert-danger">
                                                            Only positive number could be entered
                                                        </div>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td class="col-md-2"><b>Realized amount</b></td>
                                                    <td class="col-md-1" *ngIf="fund.calculationType == 0"><input style="width: 100%" type="text" name="realized" [(ngModel)]="fund.realized" placeholder="-" pattern="[+]?[0-9]*\.?[0-9]+" [disabled]="fund.calculationType != 0" #realized="ngModel"/>
                                                        <div [hidden]="realized.valid || realized.pristine" class="alert alert-danger">
                                                            Only positive number could be entered
                                                        </div>
                                                    </td>
                                                    <td class="col-md-1" *ngIf="fund.calculationType != 0">
                                                        {{(fund.realized/1000000) | number:'1.1-2'}}m
                                                    </td>
                                                    <td class="col-md-1"><b>Gross IRR</b></td>
                                                    <td class="col-md-1" *ngIf="fund.calculationType != 2"><input style="width: 100%" type="text" name="grossIrr" [(ngModel)]="fund.grossIrr" placeholder="-" pattern="[+/-]?[0-9]*\.?[0-9]+" [disabled]="fund.calculationType == 2" #grossIrr="ngModel"/>
                                                        <div [hidden]="grossIrr.valid || grossIrr.pristine" class="alert alert-danger">
                                                            Only number could be entered
                                                        </div>
                                                    </td>
                                                    <td class="col-md-1" *ngIf="fund.calculationType == 2">
                                                        {{fund.grossIrr | number:'1.0-2'}}%
                                                    </td>
                                                    <td class="col-md-1"><b>Net IRR</b></td>
                                                    <td class="col-md-1"><input style="width: 100%" type="text" name="netIrr" [(ngModel)]="fund.netIrr" placeholder="-" pattern="[+/-]?[0-9]*\.?[0-9]+" #netIrr="ngModel"/>
                                                        <div [hidden]="netIrr.valid || netIrr.pristine" class="alert alert-danger">
                                                            Only number could be entered
                                                        </div>
                                                    </td>
                                                    <!--<td class="col-md-1">{{fund.netIrr}}</td>-->
                                                    <td class="col-md-2"><b>Benchmark NET IRR</b></td>
                                                    <td class="col-md-1"><input style="width: 100%" type="text" name="benchmarkNetIrr" [(ngModel)]="fund.benchmarkNetIrr" placeholder="-" pattern="[+/-]?[0-9]*\.?[0-9]+" #benchmarkNetIrr="ngModel"/>
                                                        <div [hidden]="benchmarkNetIrr.valid || benchmarkNetIrr.pristine" class="alert alert-danger">
                                                            Only number could be entered
                                                        </div>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td class="col-md-2"><b>Unrealized amount</b></td>
                                                    <td class="col-md-1" *ngIf="fund.calculationType == 0"><input style="width: 100%" type="text" name="unrealized" [(ngModel)]="fund.unrealized" placeholder="-" pattern="[+]?[0-9]*\.?[0-9]+" [disabled]="fund.calculationType != 0" #unrealized="ngModel"/>
                                                        <div [hidden]="unrealized.valid || unrealized.pristine" class="alert alert-danger">
                                                            Only positive number could be entered
                                                        </div>
                                                    </td>
                                                    <td class="col-md-1" *ngIf="fund.calculationType != 0">
                                                        {{(fund.unrealized/1000000) | number:'1.1-2'}}m
                                                    </td>
                                                    <td class="col-md-1"></td>
                                                    <td class="col-md-1"></td>
                                                    <td class="col-md-1"></td>
                                                    <td class="col-md-1"></td>
                                                    <td class="col-md-2"><b>As of date</b></td>
                                                    <td class="col-md-1">
                                                        <div class="input-group">
                                                            <input type='text' class="input-group-addon form-control" id="asOfDate" name="asOfDate" [(ngModel)]="fund.asOfDate" placeholder="-"/>
                                                        </div>
                                                    </td>
                                                </tr>
                                            </table>
                                        </div>
                                    </form>
                                    <div [hidden]="!visible">
                                        <div class="row withpadding">
                                            <h4>Fund strategy</h4>
                                            <table class=" col-md-4 table-striped table-condensed">
                                                <tr>
                                                    <td class="col-md-1">Fund strategy comment</td>
                                                    <td class="col-md-3"><textarea fz-elastic spellcheck="false"  class="form-control" name="strategyComment" [(ngModel)]="fund.strategyComment"></textarea></td>
                                                </tr>
                                            </table>
                                        </div>
                                    </div>
                                    <div [hidden]="!visible">
                                        <div class="row withpadding">
                                            <h4>Descriptive data</h4>
                                            <table class=" col-md-4 table-striped table-condensed">
                                                <tr>
                                                    <td class="col-md-1">Investment period</td>
                                                    <td class="col-md-3"><input style="width: 100%" type="text" name="investmentPeriod" [(ngModel)]="fund.investmentPeriod"
                                                                                pattern="[+]?[0-9]*\.?[0-9]+" #investmentPeriod="ngModel"/>
                                                        <div [hidden]="investmentPeriod.valid || investmentPeriod.pristine" class="alert alert-danger">
                                                            Only positive number could be entered
                                                        </div>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td class="col-md-1">Fund term</td>
                                                    <td class="col-md-3">
                                                        <input style="width: 30%" type="text" name="fundTerm" [(ngModel)]="fund.fundTerm" pattern="[+]?[0-9]*\.?[0-9]+" #fundTerm="ngModel"/><input style="width: 70%" type="text" name="fundTermComment" [(ngModel)]="fund.fundTermComment" placeholder="Comment"/>
                                                        <div [hidden]="fundTerm.valid || fundTerm.pristine" class="alert alert-danger">
                                                            Only positive number could be entered
                                                        </div>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td class="col-md-1">Target inv. size range</td>
                                                    <td class="col-md-3"><input style="width: 100%" type="text" name="targetInvSizeRange" [(ngModel)]="fund.targetInvSizeRange" pattern="[+]?[0-9]*\.?[0-9]+" #targetInvSizeRange="ngModel"/>
                                                        <div [hidden]="targetInvSizeRange.valid || targetInvSizeRange.pristine" class="alert alert-danger">
                                                            Only positive number could be entered
                                                        </div>
                                                    </td>
                                                </tr>
                                            </table>
                                            <table class=" col-md-4 table-striped table-condensed">
                                                <tr>
                                                    <td class="col-md-1">Target EV range</td>
                                                    <td class="col-md-3"><input style="width: 100%" type="text" name="targetEvRange" [(ngModel)]="fund.targetEvRange" pattern="[+]?[0-9]*\.?[0-9]+" #targetEvRange="ngModel"/>
                                                        <div [hidden]="targetEvRange.valid || targetEvRange.pristine" class="alert alert-danger">
                                                            Only positive number could be entered
                                                        </div>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td class="col-md-1">Target number of inv.</td>
                                                    <td class="col-md-3">
                                                        <input style="width: 30%" type="text" name="targetNumberOfInv1" [(ngModel)]="fund.targetNumberOfInv1" pattern="[+]?[0-9]*\.?[0-9]+" #targetNumberOfInv1="ngModel"/><input style="width: 70%" type="text" name="targetNumberOfInv2" [(ngModel)]="fund.targetNumberOfInv2" pattern="[+]?[0-9]*\.?[0-9]+" #targetNumberOfInv2="ngModel"/>
                                                        <div [hidden]="targetNumberOfInv1.valid || targetNumberOfInv1.pristine" class="alert alert-danger">
                                                            Only positive number could be entered
                                                        </div>
                                                        <div [hidden]="targetNumberOfInv2.valid || targetNumberOfInv2.pristine" class="alert alert-danger">
                                                            Only positive number could be entered
                                                        </div>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td class="col-md-1">Expected annual number of inv.</td>
                                                    <td class="col-md-3">
                                                        <input style="width: 30%" type="text" name="expAnnualNumberOfInv1" [(ngModel)]="fund.expAnnualNumberOfInv1" pattern="[+]?[0-9]*\.?[0-9]+" #expAnnualNumberOfInv1="ngModel"/><input style="width: 70%" type="text" name="expAnnualNumberOfInv2" [(ngModel)]="fund.expAnnualNumberOfInv2" pattern="[+]?[0-9]*\.?[0-9]+" #expAnnualNumberOfInv2="ngModel"/>
                                                        <div [hidden]="expAnnualNumberOfInv1.valid || expAnnualNumberOfInv1.pristine" class="alert alert-danger">
                                                            Only positive number could be entered
                                                        </div>
                                                        <div [hidden]="expAnnualNumberOfInv2.valid || expAnnualNumberOfInv2.pristine" class="alert alert-danger">
                                                            Only positive number could be entered
                                                        </div>
                                                    </td>
                                                </tr>
                                            </table>
                                        </div>

                                        <div class="row withpadding">
                                            <h4>Targeted closing information</h4>
                                            <!--<div class="col-md-3">-->
                                            <!--<div class='input-group date col-md-2' id='firstClose' style="width: 100%">-->
                                            <!--<input type='text' class="form-control" id="firstCloseVal" [(ngModel)]="fund.firstClose"/>-->
                                            <!--<span class="input-group-addon">-->
                                            <!--<span class="glyphicon glyphicon-calendar">Start date</span>-->
                                            <!--</span>-->
                                            <!--</div>-->
                                            <!--</div>-->
                                            <!--<div class="col-md-3">-->
                                            <!--<div class='input-group date col-md-2' id='finalClose' style="width: 100%">-->
                                            <!--<input type='text' class="form-control" id="finalCloseVal" [(ngModel)]="fund.finalClose"/>-->
                                            <!--<span class="input-group-addon">-->
                                            <!--<span class="glyphicon glyphicon-calendar">End date</span>-->
                                            <!--</span>-->
                                            <!--</div>-->
                                            <!--</div>-->
                                            <table class="col-md-4 table-striped table-condensed">
                                                <tr>
                                                    <td class="col-md-1">First close</td>
                                                    <td class="col-md-3"><input type='text' class="form-control" id="firstClose" name="firstClose" [(ngModel)]="fund.firstClose"/></td>
                                                </tr>
                                            </table>
                                            <table class="col-md-4 table-striped table-condensed">
                                                <tr>
                                                    <td class="col-md-1">Final close</td>
                                                    <td class="col-md-3"><input type='text' class="form-control" id="finalClose" name="finalClose" [(ngModel)]="fund.finalClose"/></td>
                                                </tr>
                                            </table>
                                        </div>
                                        <div class="row withpadding">
                                            <h4>Observations</h4>
                                            <h5>General Partner</h5>
                                            <table class=" col-md-4 table-striped table-condensed">
                                                <th>Merits</th>
                                                <tr>
                                                    <td class="col-md-3"><textarea fz-elastic spellcheck="false"  class="form-control" name="generalPartnerMerits" [(ngModel)]="fund.generalPartnerMerits"></textarea></td>
                                                </tr>
                                            </table>
                                            <table class=" col-md-4 table-striped table-condensed">
                                                <th>Risks</th>
                                                <tr>
                                                    <td class="col-md-3"><textarea  fz-elastic spellcheck="false"  class="form-control" name="generalPartnerRisks" [(ngModel)]="fund.generalPartnerRisks"></textarea></td>
                                                </tr>
                                            </table>
                                        </div>
                                        <div class="row withpadding">
                                            <h5>Strategy/Structure</h5>
                                            <table class=" col-md-4 table-striped table-condensed">
                                                <th>Merits</th>
                                                <tr>
                                                    <td class="col-md-3"><textarea fz-elastic  spellcheck="false"  class="form-control" name="strategyStructureMerits" [(ngModel)]="fund.strategyStructureMerits"></textarea></td>
                                                </tr>
                                            </table>
                                            <table class=" col-md-4 table-striped table-condensed">
                                                <th>Risks</th>
                                                <tr>
                                                    <td class="col-md-3"><textarea fz-elastic  spellcheck="false"  class="form-control" name="strategyStructureRisks" [(ngModel)]="fund.strategyStructureRisks"></textarea></td>
                                                </tr>
                                            </table>
                                        </div>
                                        <div class="row withpadding">
                                            <h5>Performance</h5>
                                            <table class=" col-md-4 table-striped table-condensed">
                                                <th>Merits</th>
                                                <tr>
                                                    <td class="col-md-3"><textarea fz-elastic  spellcheck="false"  class="form-control" name="performanceMerits" [(ngModel)]="fund.performanceMerits"></textarea></td>
                                                </tr>
                                            </table>
                                            <table class=" col-md-4 table-striped table-condensed">
                                                <th>Risks</th>
                                                <tr>
                                                    <td class="col-md-3"><textarea fz-elastic  spellcheck="false"  class="form-control" name="performanceRisks" [(ngModel)]="fund.performanceRisks"></textarea></td>
                                                </tr>
                                            </table>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="col-md-1 pull-right">
                                                <button type="submit" class="btn btn-success" [disabled]="!fundForm.form.valid" *ngIf="canEdit()">SAVE</button>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                                <div class="row">
                                    <div class="col-md-12">
                                        <hr style="border-top: 1px solid #B5AEAE"/>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="performanceFund" class="tab-pane fade">
                        <div style="position: relative;">
                            <div [ngBusy]="busy">
                                <br>
                                <div class="row">
                                    <div style="text-align: center">
                                        <h4>{{fund.fundName}} Historical Investment Performance</h4>
                                    </div>
                                </div>
                                <br>
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="row">
                                            <div class="col-md-12">
                                                <div class="pull-right">
                                                    <small>{{this.performanceSaveTypeMessage}}</small>
                                                    <button type="submit" class="btn btn-success" *ngIf="canEdit()" (click)="savePerformance()" [disabled]="fund.id == 0 || fund.id == null">
                                                        SAVE
                                                    </button>
                                                    <!--<button type="submit" class="btn btn-success" *ngIf="canEdit()" (click)="savePerformanceAndRecalculateStatistics()" [disabled]="fund.id == 0 || fund.id == null">-->
                                                        <!--SAVE and RECALCULATE the Key Fund Statistics-->
                                                    <!--</button>-->
                                                </div>
                                            </div>
                                        </div>
                                        <br>
                                        <table class="table table-hover table-responsive table-condensed" style="font-size: smaller">
                                            <tr>
                                                <th>Company</th>
                                                <th>Cash invested</th>
                                                <th>Realized Proceeds</th>
                                                <th>Unrealized Value</th>
                                                <th>Total Value</th>
                                                <th>Multiple</th>
                                                <th>Auto calculation of the Total Value and Multiple</th>
                                                <th>Gross IRR, %</th>
                                                <th>Net IRR, %</th>
                                                <th>Notice</th>
                                                <th></th>
                                            </tr>
                                            <tr *ngFor="let performance of fund.companyPerformance">
                                                <td>
                                                    <input type="text" class="form-control" name="companyName" [(ngModel)]="performance.companyName" placeholder="-" pattern="[A-Za-z0-9 ().-]{1,50}" #companyName="ngModel"/>
                                                    <div [hidden]="companyName.valid || companyName.pristine" class="alert alert-danger">
                                                        Name must contain 1-50 characters A-Z, a-z, 0-9, space, period, hyphen, '(', ')'
                                                    </div>
                                                </td>

                                                <td>
                                                    <input type="text" class="form-control" name="invested" [(ngModel)]="performance.invested" (ngModelChange)="autoCalculationTotalAndMultiple(performance)" placeholder="-" pattern="[-]?[0-9]*\.?[0-9]+" #invested="ngModel"/>
                                                    <div [hidden]="invested.valid || invested.pristine" class="alert alert-danger">
                                                        Only number could be entered
                                                    </div>
                                                </td>

                                                <td>
                                                    <input type="text" class="form-control" name="realized" [(ngModel)]="performance.realized" (ngModelChange)="autoCalculationTotalAndMultiple(performance)" placeholder="-" pattern="[-]?[0-9]*\.?[0-9]+" #realized="ngModel"/>
                                                    <div [hidden]="realized.valid || realized.pristine" class="alert alert-danger">
                                                        Only number could be entered
                                                    </div>
                                                </td>

                                                <td>
                                                    <input type="text" class="form-control" name="unrealized" [(ngModel)]="performance.unrealized" (ngModelChange)="autoCalculationTotalAndMultiple(performance)" placeholder="-" pattern="[-]?[0-9]*\.?[0-9]+" #unrealized="ngModel"/>
                                                    <div [hidden]="unrealized.valid || unrealized.pristine" class="alert alert-danger">
                                                        Only number could be entered
                                                    </div>
                                                </td>

                                                <td *ngIf="performance.autoCalculation == false">
                                                    <input type="text" class="form-control" name="totalValue" [(ngModel)]="performance.totalValue" placeholder="-" pattern="[-]?[0-9]*\.?[0-9]+" [disabled]="performance.autoCalculation" #totalValue="ngModel"/>
                                                    <div [hidden]="totalValue.valid || totalValue.pristine" class="alert alert-danger">
                                                        Only number could be entered
                                                    </div>
                                                </td>
                                                <td *ngIf="performance.autoCalculation == true" style="font-size: small; vertical-align: middle">
                                                    {{(performance.totalValue/1000000) | number:'1.1-2'}}m
                                                </td>

                                                <td class="col-md-1" *ngIf="performance.autoCalculation == false">
                                                    <input type="text" class="form-control" name="multiple" [(ngModel)]="performance.multiple" placeholder="-" pattern="[-]?[0-9]*\.?[0-9]+" [disabled]="performance.autoCalculation" #multiple="ngModel"/>
                                                    <div [hidden]="multiple.valid || multiple.pristine" class="alert alert-danger">
                                                        Only number could be entered
                                                    </div>
                                                </td>
                                                <td *ngIf="performance.autoCalculation == true" style="font-size: small; vertical-align: middle">
                                                    {{performance.multiple | number:'1.1-1'}}x
                                                </td>

                                                <td class="col-md-1">
                                                    <input type="checkbox" [(ngModel)]="performance.autoCalculation" (ngModelChange)="autoCalculationTotalAndMultiple(performance)">
                                                </td>

                                                <td class="col-md-1">
                                                    <input type="text" class="form-control" name="grossIrr" [(ngModel)]="performance.grossIrr" placeholder="-" pattern="[-]?[0-9]*\.?[0-9]+" #grossIrr="ngModel"/>
                                                    <div [hidden]="grossIrr.valid || grossIrr.pristine" class="alert alert-danger">
                                                        Only number could be entered
                                                    </div>
                                                </td>

                                                <td class="col-md-1">
                                                    <input type="text" class="form-control" name="netIrr" [(ngModel)]="performance.netIrr" placeholder="-" pattern="[-]?[0-9]*\.?[0-9]+" #netIrr="ngModel"/>
                                                    <div [hidden]="netIrr.valid || netIrr.pristine" class="alert alert-danger">
                                                        Only number could be entered
                                                    </div>
                                                </td>

                                                <td class="col-md-2">
                                                    <div *ngIf="!performancesComparison(performance)">
                                                        <p style="color:red;">The row does not match any of the IDD</p>
                                                    </div>
                                                    <div *ngIf="performancesComparison(performance)">
                                                        <p>The row matches (to some extent) one of the IDD</p>
                                                    </div>
                                                </td>

                                                <td>
                                                    <button type="button" class="btn-xs btn-danger" style="display: inline-block"  (click)="removeRowPerformance(performance)">
                                                        <span class="glyphicon glyphicon-minus"></span>
                                                    </button>
                                                </td>
                                            </tr>

                                            <!--<tr>-->
                                            <!--<td>ACR Logistics</td>-->
                                            <!--<td>46 500 000</td>-->
                                            <!--<td>540 523 074</td>-->
                                            <!--<td>-</td>-->
                                            <!--<td>540 523 074</td>-->
                                            <!--<td>11.6x</td>-->
                                            <!--<td>284.1%</td>-->
                                            <!--<td>-</td>-->
                                            <!--</tr>-->
                                        </table>

                                        <div class="row">
                                            <div class="col-md-12">
                                                <div class="col-md-1 pull-left">
                                                    <button type="button" class="btn btn-primary" *ngIf="canEdit()" (click)="addRowPerformance()">
                                                        Add company
                                                    </button>
                                                </div>
                                                <div class="pull-right">
                                                    <small>{{this.performanceSaveTypeMessage}}</small>
                                                    <button type="submit" class="btn btn-success" *ngIf="canEdit()" (click)="savePerformance()" [disabled]="fund.id == 0 || fund.id == null">
                                                        SAVE
                                                    </button>
                                                    <!--<button type="submit" class="btn btn-success" *ngIf="canEdit()" (click)="savePerformanceAndRecalculateStatistics()" [disabled]="fund.id == 0 || fund.id == null">-->
                                                        <!--SAVE and RECALCULATE the Key Fund Statistics-->
                                                    <!--</button>-->
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-12">
                                        <hr style="border-top: 1px solid #B5AEAE"/>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="createOnePager" class="tab-pane fade">
                        <div style="position: relative;">
                            <div [ngBusy]="busy">
                                <br>
                                <div class="row">
                                    <div style="text-align: center">
                                        <h4>{{fund.fundName}} One Pager Creator</h4>
                                    </div>
                                </div>
                                <br>
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="pull-right">
                                            <button type="submit" class="btn btn-success" (click)="saveDataAndCreateOnePager()" [disabled]="fund.id == 0 || fund.id == null">CREATE</button>
                                        </div>
                                        <!--<div class="pull-left">-->
                                            <!--<form>-->
                                                <!--<h4>Upload a GP's logo</h4>-->
                                                <!--<input type="file" #fileUploadGP (change)="fileLogoChange(fileUploadGP.files, 'GP')"/>-->
                                                <!--<h4>Upload an NIC's logo</h4>-->
                                                <!--<input type="file" #fileUploadNIC (change)="fileLogoChange(fileUploadNIC.files, 'NIC')"/>-->
                                            <!--</form>-->
                                        <!--</div>-->
                                        <br>
                                        <table class="table table-hover table-responsive table-condensed" style="font-size: smaller">
                                            <tr>
                                                <th>Investments Performance Data as of</th>
                                            </tr>
                                            <tr *ngFor="let item of fund.onePagerDescriptions" [hidden]="item.type !=0">
                                                <td>
                                                    <input type="text" class="form-control" name="description" [(ngModel)]="item.description" placeholder="-" #description="ngModel"/>
                                                    <div [hidden]="description.valid || description.pristine" class="alert alert-danger">
                                                        Name must contain 1-50 characters A-Z, a-z, 0-9, space, period, hyphen, '(', ')'
                                                    </div>
                                                </td>
                                            </tr>
                                        </table>
                                        <br>
                                        <table class="table table-hover table-responsive table-condensed" style="font-size: smaller">
                                            <tr>
                                                <th>Benchmark Name</th>
                                            </tr>
                                            <tr *ngFor="let item of fund.onePagerDescriptions" [hidden]="item.type !=-1">
                                                <td>
                                                    <input type="text" class="form-control" name="description" [(ngModel)]="item.description" placeholder="-" #description="ngModel"/>
                                                    <div [hidden]="description.valid || description.pristine" class="alert alert-danger">
                                                        Name must contain 1-50 characters A-Z, a-z, 0-9, space, period, hyphen, '(', ')'
                                                    </div>
                                                </td>
                                            </tr>
                                        </table>
                                        <br>
                                        <table class="table table-hover table-responsive table-condensed" style="font-size: smaller">
                                            <tr>
                                                <th>GP Merits (bold part)</th>
                                                <th>GP Merits</th>
                                                <th></th>
                                            </tr>
                                            <tr *ngFor="let item of fund.onePagerDescriptions" [hidden]="item.type !=1">
                                                <td>
                                                    <input type="text" class="form-control" name="descriptionBold" [(ngModel)]="item.descriptionBold" placeholder="-" #descriptionBold="ngModel"/>
                                                    <div [hidden]="descriptionBold.valid || descriptionBold.pristine" class="alert alert-danger">
                                                        Name must contain 1-50 characters A-Z, a-z, 0-9, space, period, hyphen, '(', ')'
                                                    </div>
                                                </td>

                                                <td>
                                                    <input type="text" class="form-control" name="description" [(ngModel)]="item.description" placeholder="-" #description="ngModel"/>
                                                    <div [hidden]="description.valid || description.pristine" class="alert alert-danger">
                                                        Name must contain 1-50 characters A-Z, a-z, 0-9, space, period, hyphen, '(', ')'
                                                    </div>
                                                </td>

                                                <td>
                                                    <button type="button" class="btn-xs btn-danger" style="display: inline-block"  (click)="removeRowDescription(item)">
                                                        <span class="glyphicon glyphicon-minus"></span>
                                                    </button>
                                                </td>
                                            </tr>
                                            <div class="col-md-1 pull-left">
                                                <button type="button" class="btn-xs btn-primary" *ngIf="canEdit()" (click)="addRowDescription(1)">
                                                    <span class="glyphicon glyphicon-plus"></span>
                                                </button>
                                            </div>
                                        </table>
                                        <br>
                                        <table class="table table-hover table-responsive table-condensed" style="font-size: smaller">
                                            <tr>
                                                <th>GP Risks (bold part)</th>
                                                <th>GP Risks</th>
                                                <th></th>
                                            </tr>
                                            <tr *ngFor="let item of fund.onePagerDescriptions" [hidden]="item.type !=2">
                                                <td>
                                                    <input type="text" class="form-control" name="descriptionBold" [(ngModel)]="item.descriptionBold" placeholder="-" #descriptionBold="ngModel"/>
                                                    <div [hidden]="descriptionBold.valid || descriptionBold.pristine" class="alert alert-danger">
                                                        Name must contain 1-50 characters A-Z, a-z, 0-9, space, period, hyphen, '(', ')'
                                                    </div>
                                                </td>

                                                <td>
                                                    <input type="text" class="form-control" name="description" [(ngModel)]="item.description" placeholder="-" #description="ngModel"/>
                                                    <div [hidden]="description.valid || description.pristine" class="alert alert-danger">
                                                        Name must contain 1-50 characters A-Z, a-z, 0-9, space, period, hyphen, '(', ')'
                                                    </div>
                                                </td>

                                                <td>
                                                    <button type="button" class="btn-xs btn-danger" style="display: inline-block"  (click)="removeRowDescription(item)">
                                                        <span class="glyphicon glyphicon-minus"></span>
                                                    </button>
                                                </td>
                                            </tr>
                                            <div class="col-md-1 pull-left">
                                                <button type="button" class="btn-xs btn-primary" *ngIf="canEdit()" (click)="addRowDescription(2)">
                                                    Add GP Risk
                                                </button>
                                            </div>
                                        </table>
                                        <br>
                                        <table class="table table-hover table-responsive table-condensed" style="font-size: smaller">
                                            <tr>
                                                <th>Strategy/Structure Merits (bold part)</th>
                                                <th>Strategy/Structure Merits</th>
                                                <th></th>
                                            </tr>
                                            <tr *ngFor="let item of fund.onePagerDescriptions" [hidden]="item.type !=3">
                                                <td>
                                                    <input type="text" class="form-control" name="descriptionBold" [(ngModel)]="item.descriptionBold" placeholder="-" #descriptionBold="ngModel"/>
                                                    <div [hidden]="descriptionBold.valid || descriptionBold.pristine" class="alert alert-danger">
                                                        Name must contain 1-50 characters A-Z, a-z, 0-9, space, period, hyphen, '(', ')'
                                                    </div>
                                                </td>

                                                <td>
                                                    <input type="text" class="form-control" name="description" [(ngModel)]="item.description" placeholder="-" #description="ngModel"/>
                                                    <div [hidden]="description.valid || description.pristine" class="alert alert-danger">
                                                        Name must contain 1-50 characters A-Z, a-z, 0-9, space, period, hyphen, '(', ')'
                                                    </div>
                                                </td>

                                                <td>
                                                    <button type="button" class="btn-xs btn-danger" style="display: inline-block"  (click)="removeRowDescription(item)">
                                                        <span class="glyphicon glyphicon-minus"></span>
                                                    </button>
                                                </td>
                                            </tr>
                                            <div class="col-md-1 pull-left">
                                                <button type="button" class="btn-xs btn-primary" *ngIf="canEdit()" (click)="addRowDescription(3)">
                                                    Add Strategy/Structure Merit
                                                </button>
                                            </div>
                                        </table>
                                        <br>
                                        <table class="table table-hover table-responsive table-condensed" style="font-size: smaller">
                                            <tr>
                                                <th>Strategy/Structure Risks (bold part)</th>
                                                <th>Strategy/Structure Risks</th>
                                                <th></th>
                                            </tr>
                                            <tr *ngFor="let item of fund.onePagerDescriptions" [hidden]="item.type !=4">
                                                <td>
                                                    <input type="text" class="form-control" name="descriptionBold" [(ngModel)]="item.descriptionBold" placeholder="-" #descriptionBold="ngModel"/>
                                                    <div [hidden]="descriptionBold.valid || descriptionBold.pristine" class="alert alert-danger">
                                                        Name must contain 1-50 characters A-Z, a-z, 0-9, space, period, hyphen, '(', ')'
                                                    </div>
                                                </td>

                                                <td>
                                                    <input type="text" class="form-control" name="description" [(ngModel)]="item.description" placeholder="-" #description="ngModel"/>
                                                    <div [hidden]="description.valid || description.pristine" class="alert alert-danger">
                                                        Name must contain 1-50 characters A-Z, a-z, 0-9, space, period, hyphen, '(', ')'
                                                    </div>
                                                </td>

                                                <td>
                                                    <button type="button" class="btn-xs btn-danger" style="display: inline-block"  (click)="removeRowDescription(item)">
                                                        <span class="glyphicon glyphicon-minus"></span>
                                                    </button>
                                                </td>
                                            </tr>
                                            <div class="col-md-1 pull-left">
                                                <button type="button" class="btn-xs btn-primary" *ngIf="canEdit()" (click)="addRowDescription(4)">
                                                    Add Strategy/Structure Risk
                                                </button>
                                            </div>
                                        </table>
                                        <br>
                                        <table class="table table-hover table-responsive table-condensed" style="font-size: smaller">
                                            <tr>
                                                <th>Performance Merits (bold part)</th>
                                                <th>Performance Merits</th>
                                                <th></th>
                                            </tr>
                                            <tr *ngFor="let item of fund.onePagerDescriptions" [hidden]="item.type !=5">
                                                <td>
                                                    <input type="text" class="form-control" name="descriptionBold" [(ngModel)]="item.descriptionBold" placeholder="-" #descriptionBold="ngModel"/>
                                                    <div [hidden]="descriptionBold.valid || descriptionBold.pristine" class="alert alert-danger">
                                                        Name must contain 1-50 characters A-Z, a-z, 0-9, space, period, hyphen, '(', ')'
                                                    </div>
                                                </td>

                                                <td>
                                                    <input type="text" class="form-control" name="description" [(ngModel)]="item.description" placeholder="-" #description="ngModel"/>
                                                    <div [hidden]="description.valid || description.pristine" class="alert alert-danger">
                                                        Name must contain 1-50 characters A-Z, a-z, 0-9, space, period, hyphen, '(', ')'
                                                    </div>
                                                </td>

                                                <td>
                                                    <button type="button" class="btn-xs btn-danger" style="display: inline-block"  (click)="removeRowDescription(item)">
                                                        <span class="glyphicon glyphicon-minus"></span>
                                                    </button>
                                                </td>
                                            </tr>
                                            <div class="col-md-1 pull-left">
                                                <button type="button" class="btn-xs btn-primary" *ngIf="canEdit()" (click)="addRowDescription(5)">
                                                    Add Performance Merit
                                                </button>
                                            </div>
                                        </table>
                                        <br>
                                        <table class="table table-hover table-responsive table-condensed" style="font-size: smaller">
                                            <tr>
                                                <th>Performance Risks (bold part)</th>
                                                <th>Performance Risks</th>
                                                <th></th>
                                            </tr>
                                            <tr *ngFor="let item of fund.onePagerDescriptions" [hidden]="item.type !=6">
                                                <td>
                                                    <input type="text" class="form-control" name="descriptionBold" [(ngModel)]="item.descriptionBold" placeholder="-" #descriptionBold="ngModel"/>
                                                    <div [hidden]="descriptionBold.valid || descriptionBold.pristine" class="alert alert-danger">
                                                        Name must contain 1-50 characters A-Z, a-z, 0-9, space, period, hyphen, '(', ')'
                                                    </div>
                                                </td>

                                                <td>
                                                    <input type="text" class="form-control" name="description" [(ngModel)]="item.description" placeholder="-" #description="ngModel"/>
                                                    <div [hidden]="description.valid || description.pristine" class="alert alert-danger">
                                                        Name must contain 1-50 characters A-Z, a-z, 0-9, space, period, hyphen, '(', ')'
                                                    </div>
                                                </td>

                                                <td>
                                                    <button type="button" class="btn-xs btn-danger" style="display: inline-block"  (click)="removeRowDescription(item)">
                                                        <span class="glyphicon glyphicon-minus"></span>
                                                    </button>
                                                </td>
                                            </tr>
                                            <div class="col-md-1 pull-left">
                                                <button type="button" class="btn-xs btn-primary" *ngIf="canEdit()" (click)="addRowDescription(6)">
                                                    Add Performance Risk
                                                </button>
                                            </div>
                                        </table>
                                        <br>
                                        <table class="table table-hover table-responsive table-condensed" style="font-size: smaller">
                                            <tr>
                                                <th>Fund Strategy (bold part)</th>
                                                <th>Fund Strategy</th>
                                                <th></th>
                                            </tr>
                                            <tr *ngFor="let item of fund.onePagerDescriptions" [hidden]="item.type !=7">
                                                <td>
                                                    <input type="text" class="form-control" name="descriptionBold" [(ngModel)]="item.descriptionBold" placeholder="-" #descriptionBold="ngModel"/>
                                                    <div [hidden]="descriptionBold.valid || descriptionBold.pristine" class="alert alert-danger">
                                                        Name must contain 1-50 characters A-Z, a-z, 0-9, space, period, hyphen, '(', ')'
                                                    </div>
                                                </td>

                                                <td>
                                                    <input type="text" class="form-control" name="description" [(ngModel)]="item.description" placeholder="-" #description="ngModel"/>
                                                    <div [hidden]="description.valid || description.pristine" class="alert alert-danger">
                                                        Name must contain 1-50 characters A-Z, a-z, 0-9, space, period, hyphen, '(', ')'
                                                    </div>
                                                </td>

                                                <td>
                                                    <button type="button" class="btn-xs btn-danger" style="display: inline-block"  (click)="removeRowDescription(item)">
                                                        <span class="glyphicon glyphicon-minus"></span>
                                                    </button>
                                                </td>
                                            </tr>
                                            <div class="col-md-1 pull-left">
                                                <button type="button" class="btn-xs btn-primary" *ngIf="canEdit()" (click)="addRowDescription(7)">
                                                    Add Fund Strategy
                                                </button>
                                            </div>
                                        </table>
                                        <br>
                                        <table class="table table-hover table-responsive table-condensed" style="font-size: smaller">
                                            <tr>
                                                <th>Descriptive Data (bold part)</th>
                                                <th>Descriptive Data</th>
                                                <th></th>
                                            </tr>
                                            <tr *ngFor="let item of fund.onePagerDescriptions" [hidden]="item.type !=8">
                                                <td>
                                                    <input type="text" class="form-control" name="descriptionBold" [(ngModel)]="item.descriptionBold" placeholder="-" #descriptionBold="ngModel"/>
                                                    <div [hidden]="descriptionBold.valid || descriptionBold.pristine" class="alert alert-danger">
                                                        Name must contain 1-50 characters A-Z, a-z, 0-9, space, period, hyphen, '(', ')'
                                                    </div>
                                                </td>

                                                <td>
                                                    <input type="text" class="form-control" name="description" [(ngModel)]="item.description" placeholder="-" #description="ngModel"/>
                                                    <div [hidden]="description.valid || description.pristine" class="alert alert-danger">
                                                        Name must contain 1-50 characters A-Z, a-z, 0-9, space, period, hyphen, '(', ')'
                                                    </div>
                                                </td>

                                                <td>
                                                    <button type="button" class="btn-xs btn-danger" style="display: inline-block"  (click)="removeRowDescription(item)">
                                                        <span class="glyphicon glyphicon-minus"></span>
                                                    </button>
                                                </td>
                                            </tr>
                                            <div class="col-md-1 pull-left">
                                                <button type="button" class="btn-xs btn-primary" *ngIf="canEdit()" (click)="addRowDescription(8)">
                                                    Add Descriptive Data
                                                </button>
                                            </div>
                                        </table>
                                        <br>
                                        <table class="table table-hover table-responsive table-condensed" style="font-size: smaller">
                                            <tr>
                                                <th>Targeted Closing Information (bold part)</th>
                                                <th>Targeted Closing Information</th>
                                                <th></th>
                                            </tr>
                                            <tr *ngFor="let item of fund.onePagerDescriptions" [hidden]="item.type !=9">
                                                <td>
                                                    <input type="text" class="form-control" name="descriptionBold" [(ngModel)]="item.descriptionBold" placeholder="-" #descriptionBold="ngModel"/>
                                                    <div [hidden]="descriptionBold.valid || descriptionBold.pristine" class="alert alert-danger">
                                                        Name must contain 1-50 characters A-Z, a-z, 0-9, space, period, hyphen, '(', ')'
                                                    </div>
                                                </td>

                                                <td>
                                                    <input type="text" class="form-control" name="description" [(ngModel)]="item.description" placeholder="-" #description="ngModel"/>
                                                    <div [hidden]="description.valid || description.pristine" class="alert alert-danger">
                                                        Name must contain 1-50 characters A-Z, a-z, 0-9, space, period, hyphen, '(', ')'
                                                    </div>
                                                </td>

                                                <td>
                                                    <button type="button" class="btn-xs btn-danger" style="display: inline-block"  (click)="removeRowDescription(item)">
                                                        <span class="glyphicon glyphicon-minus"></span>
                                                    </button>
                                                </td>
                                            </tr>
                                            <div class="col-md-1 pull-left">
                                                <button type="button" class="btn-xs btn-primary" *ngIf="canEdit()" (click)="addRowDescription(9)">
                                                    Add Targeted Closing Information
                                                </button>
                                            </div>
                                        </table>
                                        <br>
                                        <table class="table table-hover table-responsive table-condensed" style="font-size: smaller">
                                            <tr>
                                                <th>Senior Management Team Overall info (bold part)</th>
                                                <th>Senior Management Team Overall info</th>
                                                <th></th>
                                            </tr>
                                            <tr *ngFor="let item of fund.onePagerDescriptions" [hidden]="item.type !=10">
                                                <td>
                                                    <input type="text" class="form-control" name="descriptionBold" [(ngModel)]="item.descriptionBold" placeholder="-" #descriptionBold="ngModel"/>
                                                    <div [hidden]="descriptionBold.valid || descriptionBold.pristine" class="alert alert-danger">
                                                        Name must contain 1-50 characters A-Z, a-z, 0-9, space, period, hyphen, '(', ')'
                                                    </div>
                                                </td>

                                                <td>
                                                    <input type="text" class="form-control" name="description" [(ngModel)]="item.description" placeholder="-" #description="ngModel"/>
                                                    <div [hidden]="description.valid || description.pristine" class="alert alert-danger">
                                                        Name must contain 1-50 characters A-Z, a-z, 0-9, space, period, hyphen, '(', ')'
                                                    </div>
                                                </td>

                                                <td>
                                                    <button type="button" class="btn-xs btn-danger" style="display: inline-block"  (click)="removeRowDescription(item)">
                                                        <span class="glyphicon glyphicon-minus"></span>
                                                    </button>
                                                </td>
                                            </tr>
                                            <div class="col-md-1 pull-left">
                                                <button type="button" class="btn-xs btn-primary" *ngIf="canEdit()" (click)="addRowDescription(10)">
                                                    Add Senior Management Team Overall info
                                                </button>
                                            </div>
                                        </table>
                                        <br>
                                        <table class="table table-hover table-responsive table-condensed" style="font-size: smaller">
                                            <tr>
                                                <th>Name</th>
                                                <th>Position</th>
                                                <th>Age</th>
                                                <th>Experience</th>
                                                <th>Education</th>
                                                <th></th>
                                            </tr>
                                            <tr *ngFor="let item of fund.managementTeam">
                                                <td>
                                                    <input type="text" class="form-control" name="name" [(ngModel)]="item.name" placeholder="-" #name="ngModel"/>
                                                    <div [hidden]="name.valid || name.pristine" class="alert alert-danger">
                                                        Name must contain 1-50 characters A-Z, a-z, 0-9, space, period, hyphen, '(', ')'
                                                    </div>
                                                </td>

                                                <td>
                                                    <input type="text" class="form-control" name="position" [(ngModel)]="item.position" placeholder="-" #position="ngModel"/>
                                                    <div [hidden]="position.valid || position.pristine" class="alert alert-danger">
                                                        Name must contain 1-50 characters A-Z, a-z, 0-9, space, period, hyphen, '(', ')'
                                                    </div>
                                                </td>

                                                <td>
                                                    <input type="text" class="form-control" name="age" [(ngModel)]="item.age" placeholder="-" pattern="[-]?[0-9]*\.?[0-9]+" #age="ngModel"/>
                                                    <div [hidden]="age.valid || age.pristine" class="alert alert-danger">
                                                        Only number could be entered
                                                    </div>
                                                </td>

                                                <td>
                                                    <input type="text" class="form-control" name="experience" [(ngModel)]="item.experience" placeholder="-" #experience="ngModel"/>
                                                    <div [hidden]="experience.valid || experience.pristine" class="alert alert-danger">
                                                        Name must contain 1-50 characters A-Z, a-z, 0-9, space, period, hyphen, '(', ')'
                                                    </div>
                                                </td>

                                                <td>
                                                    <input type="text" class="form-control" name="education" [(ngModel)]="item.education" placeholder="-" #education="ngModel"/>
                                                    <div [hidden]="education.valid || education.pristine" class="alert alert-danger">
                                                        Name must contain 1-50 characters A-Z, a-z, 0-9, space, period, hyphen, '(', ')'
                                                    </div>
                                                </td>

                                                <td>
                                                    <button type="button" class="btn-xs btn-danger" style="display: inline-block"  (click)="removeRowManagementTeam(item)">
                                                        <span class="glyphicon glyphicon-minus"></span>
                                                    </button>
                                                </td>
                                            </tr>
                                            <div class="col-md-1 pull-left">
                                                <button type="button" class="btn-xs btn-primary" *ngIf="canEdit()" (click)="addRowManagementTeam()">
                                                    Add Senior Manager
                                                </button>
                                            </div>
                                        </table>

                                        <div class="pull-right">
                                            <button type="submit" class="btn btn-success" (click)="saveDataAndCreateOnePager()" [disabled]="fund.id == 0 || fund.id == null">CREATE</button>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-12">
                                        <hr style="border-top: 1px solid #B5AEAE"/>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="idd" class="tab-pane fade">
            <div style="position: relative;">
                <br/>
                <ul class="nav nav-tabs" id="tabs-idd">
                    <li class="active">
                        <a data-toggle="tab" href="#performanceIdd">PERFORMANCE</a>
                    </li>
                    <li>
                        <a data-toggle="tab" href="#grossCashflow">GROSS CASHFLOW</a>
                    </li>
                    <li>
                        <a data-toggle="tab" href="#portfolioInfo">PORTFOLIO INFO</a>
                    </li>
                    <li>
                        <a data-toggle="tab" href="#dynamicIRR">IRR CALCULATOR</a>
                    </li>
                </ul>
                <div class="tab-content">
                    <div id="performanceIdd" class="tab-pane fade in active">
                        <div style="position: relative;">
                            <div [ngBusy]="busy">
                                <br>
                                <div class="row">
                                    <div style="text-align: center">
                                        <h4>{{fund.fundName}} Historical Investment Performance</h4>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="form-group">
                                        <label for="rounding">Rounding in</label>
                                        <select class="form-control" id="rounding" [(ngModel)]="rounding">
                                            <option value="1000">thousands</option>
                                            <option value="1000000">millions</option>
                                        </select>
                                    </div>
                                </div>
                                <br>
                                <br>
                                <div class="row">
                                    <div class="col-md-12">
                                        <table class="table table-hover table-responsive" style="font-size: smaller">
                                            <tr>
                                                <th>
                                                    Company
                                                    <button type="submit" class="btn btn-link" (click)="sortPerformanceIdd(11)" [disabled]="fund.id == 0 || fund.id == null">
                                                        <p>&uarr;</p>
                                                    </button>
                                                    <button type="submit" class="btn btn-link" (click)="sortPerformanceIdd(13)" [disabled]="fund.id == 0 || fund.id == null">
                                                        <p>&darr;</p>
                                                    </button>
                                                </th>
                                                <th>
                                                    Cash invested
                                                    <button type="submit" class="btn btn-link" (click)="sortPerformanceIdd(21)" [disabled]="fund.id == 0 || fund.id == null">
                                                        <p>&uarr;</p>
                                                    </button>
                                                    <button type="submit" class="btn btn-link" (click)="sortPerformanceIdd(23)" [disabled]="fund.id == 0 || fund.id == null">
                                                        <p>&darr;</p>
                                                    </button>
                                                </th>
                                                <th>
                                                    Realized Proceeds
                                                    <button type="submit" class="btn btn-link" (click)="sortPerformanceIdd(31)" [disabled]="fund.id == 0 || fund.id == null">
                                                        <p>&uarr;</p>
                                                    </button>
                                                    <button type="submit" class="btn btn-link" (click)="sortPerformanceIdd(33)" [disabled]="fund.id == 0 || fund.id == null">
                                                        <p>&darr;</p>
                                                    </button>
                                                </th>
                                                <th>
                                                    Unrealized Value
                                                    <button type="submit" class="btn btn-link" (click)="sortPerformanceIdd(41)" [disabled]="fund.id == 0 || fund.id == null">
                                                        <p>&uarr;</p>
                                                    </button>
                                                    <button type="submit" class="btn btn-link" (click)="sortPerformanceIdd(43)" [disabled]="fund.id == 0 || fund.id == null">
                                                        <p>&darr;</p>
                                                    </button>
                                                </th>
                                                <th>
                                                    Total Value
                                                    <button type="submit" class="btn btn-link" (click)="sortPerformanceIdd(51)" [disabled]="fund.id == 0 || fund.id == null">
                                                        <p>&uarr;</p>
                                                    </button>
                                                    <button type="submit" class="btn btn-link" (click)="sortPerformanceIdd(53)" [disabled]="fund.id == 0 || fund.id == null">
                                                        <p>&darr;</p>
                                                    </button>
                                                </th>
                                                <th>
                                                    Multiple
                                                    <button type="submit" class="btn btn-link" (click)="sortPerformanceIdd(61)" [disabled]="fund.id == 0 || fund.id == null">
                                                        <p>&uarr;</p>
                                                    </button>
                                                    <button type="submit" class="btn btn-link" (click)="sortPerformanceIdd(63)" [disabled]="fund.id == 0 || fund.id == null">
                                                        <p>&darr;</p>
                                                    </button>
                                                </th>
                                                <th>
                                                    Gross IRR
                                                    <button type="submit" class="btn btn-link" (click)="sortPerformanceIdd(71)" [disabled]="fund.id == 0 || fund.id == null">
                                                        <p>&uarr;</p>
                                                    </button>
                                                    <button type="submit" class="btn btn-link" (click)="sortPerformanceIdd(73)" [disabled]="fund.id == 0 || fund.id == null">
                                                        <p>&darr;</p>
                                                    </button>
                                                </th>
                                                <th>
                                                    Net IRR
                                                    <button type="submit" class="btn btn-link" (click)="sortPerformanceIdd(81)" [disabled]="fund.id == 0 || fund.id == null">
                                                        <p>&uarr;</p>
                                                    </button>
                                                    <button type="submit" class="btn btn-link" (click)="sortPerformanceIdd(83)" [disabled]="fund.id == 0 || fund.id == null">
                                                        <p>&darr;</p>
                                                    </button>
                                                </th>
                                            </tr>
                                            <tr *ngFor="let performance of fund.companyPerformanceIdd">
                                                <td style="font-size: small">
                                                    {{performance.companyName}}
                                                    <!--<input type="text" class="form-control" name="companyName" [(ngModel)]="performance.companyName" placeholder="-" pattern="[A-Za-z0-9 ()]{1,50}" [disabled]="true" #companyName="ngModel"/>-->
                                                    <!--<div [hidden]="companyName.valid || companyName.pristine" class="alert alert-danger">-->
                                                        <!--Name must contain 1-50 characters A-Z, a-z, 0-9-->
                                                    <!--</div>-->
                                                </td>

                                                <td style="font-size: small">
                                                    {{(performance.invested/rounding) | number:'1.1-2'}}
                                                    <!--<input type="text" class="form-control" name="invested" [(ngModel)]="performance.invested" placeholder="-" pattern="[+]?[0-9]*\.?[0-9]+" [disabled]="true" #invested="ngModel"/>-->
                                                    <!--<div [hidden]="invested.valid || invested.pristine" class="alert alert-danger">-->
                                                        <!--Only positive number could be entered-->
                                                    <!--</div>-->
                                                </td>

                                                <td style="font-size: small">
                                                    {{(performance.realized/rounding) | number:'1.1-2'}}
                                                    <!--<input type="text" class="form-control" name="realized" [(ngModel)]="performance.realized" placeholder="-" pattern="[+]?[0-9]*\.?[0-9]+" [disabled]="true" #realized="ngModel"/>-->
                                                    <!--<div [hidden]="realized.valid || realized.pristine" class="alert alert-danger">-->
                                                        <!--Only positive number could be entered-->
                                                    <!--</div>-->
                                                </td>

                                                <td style="font-size: small">
                                                    {{(performance.unrealized/rounding) | number:'1.1-2'}}
                                                    <!--<input type="text" class="form-control" name="unrealized" [(ngModel)]="performance.unrealized" placeholder="-" pattern="[+]?[0-9]*\.?[0-9]+" [disabled]="true" #unrealized="ngModel"/>-->
                                                    <!--<div [hidden]="unrealized.valid || unrealized.pristine" class="alert alert-danger">-->
                                                        <!--Only positive number could be entered-->
                                                    <!--</div>-->
                                                </td>

                                                <td style="font-size: small">
                                                    {{(performance.totalValue/rounding) | number:'1.1-2'}}
                                                    <!--<input type="text" class="form-control" name="totalValue" [(ngModel)]="performance.totalValue" placeholder="-" pattern="[+]?[0-9]*\.?[0-9]+" [disabled]="true" #totalValue="ngModel"/>-->
                                                    <!--<div [hidden]="totalValue.valid || totalValue.pristine" class="alert alert-danger">-->
                                                        <!--Only positive number could be entered-->
                                                    <!--</div>-->
                                                </td>

                                                <td style="font-size: small">
                                                    {{performance.multiple | number:'1.1-1'}}x
                                                    <!--<input type="text" class="form-control" name="multiple" [(ngModel)]="performance.multiple" placeholder="-" pattern="[+]?[0-9]*\.?[0-9]+" [disabled]="true" #multiple="ngModel"/>-->
                                                    <!--<div [hidden]="multiple.valid || multiple.pristine" class="alert alert-danger">-->
                                                        <!--Only positive number could be entered-->
                                                    <!--</div>-->
                                                </td>

                                                <td style="font-size: small">
                                                    {{performance.grossIrr | number:'1.0-2'}}%
                                                    <!--<input type="text" class="form-control" name="grossIrr" [(ngModel)]="performance.grossIrr" placeholder="-" pattern="[-]?[0-9]*\.?[0-9]+" [disabled]="true" #grossIrr="ngModel"/>-->
                                                    <!--<div [hidden]="grossIrr.valid || grossIrr.pristine" class="alert alert-danger">-->
                                                        <!--Only number could be entered-->
                                                    <!--</div>-->
                                                </td>

                                                <td style="font-size: small">
                                                    {{performance.netIrr | number:'1.0-2'}}%
                                                    <!--<input type="text" class="form-control" name="netIrr" [(ngModel)]="performance.netIrr" placeholder="-" pattern="[-]?[0-9]*\.?[0-9]+" [disabled]="true" #netIrr="ngModel"/>-->
                                                    <!--<div [hidden]="netIrr.valid || netIrr.pristine" class="alert alert-danger">-->
                                                        <!--Only number could be entered-->
                                                    <!--</div>-->
                                                </td>
                                            </tr>
                                            <tr>
                                                <th>
                                                    Total
                                                </th>
                                                <th>
                                                    {{(performanceIddTotal.invested/rounding) | number:'1.1-2'}}
                                                </th>
                                                <th>
                                                    {{(performanceIddTotal.realized/rounding) | number:'1.1-2'}}
                                                </th>
                                                <th>
                                                    {{(performanceIddTotal.unrealized/rounding) | number:'1.1-2'}}
                                                </th>
                                                <th>
                                                    {{(performanceIddTotal.totalValue/rounding) | number:'1.1-2'}}
                                                </th>
                                                <th>
                                                    {{performanceIddTotal.multiple | number:'1.1-1'}}x
                                                </th>
                                                <th>
                                                    {{performanceIddTotal.grossIrr | number:'1.0-2'}}%
                                                </th>
                                                <th>
                                                    Net IRR
                                                </th>
                                            </tr>
                                        </table>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-12">
                                        <hr style="border-top: 1px solid #B5AEAE"/>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="grossCashflow" class="tab-pane fade">
                        <div style="position: relative;">
                            <div [ngBusy]="busy">
                                <br/>
                                <div class="row">
                                    <div style="text-align: center">
                                        <h4>{{fund.fundName}} Gross Cashflow</h4>
                                    </div>
                                </div>
                                <br>
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="row">
                                            <div class="col-md-12">
                                                <div class="pull-left">
                                                    <form #yourForm="ngForm" (ngSubmit)="onSubmitGrossCF()" *ngIf="canEdit()">
                                                        <h4>Upload a new portion of the Gross Cash Flow</h4>
                                                        <input type="file" #fileupload name="myFile" (change)="fileChange(fileupload.files)"/>
                                                        <button type="submit" class="btn btn-success" [disabled]="fund.id == 0 || fund.id == null">Submit</button>
                                                    </form>
                                                </div>
                                                <br>
                                                <br>
                                                <br>
                                                <div class="pull-right">
                                                    <!--<button type="submit" class="btn btn-success" *ngIf="canEdit()" (click)="saveGrossCF()" [disabled]="fund.id == 0 || fund.id == null">-->
                                                        <!--SAVE-->
                                                    <!--</button>-->
                                                    <small>{{this.grossCashFlowSaveTypeMessage}}</small>
                                                    <button type="submit" class="btn btn-success" *ngIf="canEdit()" (click)="saveGrossCFAndRecalculatePerformanceIddAndUpdateStatistics()" [disabled]="fund.id == 0 || fund.id == null">
                                                        <!--SAVE and RECALCULATE the Performance-->
                                                        SAVE
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                        <br>
                                        <table class="table table-hover table-responsive" style="font-size: smaller">
                                            <tr>
                                                <th>Company name</th>
                                                <th>Date of transaction</th>
                                                <th>Invested value</th>
                                                <th>Realized value</th>
                                                <th>Unrealized value</th>
                                                <th>Gross Cash Flow</th>
                                                <th>Auto calculation of the Gross Cash Flow</th>
                                            </tr>
                                            <tr *ngFor="let cf of fund.grossCashflow">
                                                <td class="col-md-2">
                                                    <input type="text" class="form-control" name="companyName" [(ngModel)]="cf.companyName" placeholder="-" pattern="[A-Za-z0-9 ().-]{1,50}" #companyName="ngModel"/>
                                                    <div [hidden]="companyName.valid || companyName.pristine" class="alert alert-danger">
                                                        Name must contain 1-50 characters A-Z, a-z, 0-9, space, period, hyphen, '(', ')'
                                                    </div>
                                                </td>

                                                <td>
                                                    <input type="text" class="form-control" name="date" [(ngModel)]="cf.date" placeholder="-" pattern="(0[1-9]|1[0-9]|2[0-9]|3[01])-(0[1-9]|1[012])-[1-2][0-9][0-9][0-9]" #date="ngModel"/>
                                                    <div [hidden]="date.valid || date.pristine" class="alert alert-danger">
                                                        Enter date in format dd-mm-yyyy
                                                    </div>
                                                    <!--<div class="input-group">-->
                                                    <!--<input type='text' class="input-group-addon form-control" id="dateGrossCF" name="dateGrossCF" [(ngModel)]="cf.date" placeholder="-"/>-->
                                                    <!--</div>-->
                                                </td>

                                                <td>
                                                    <input type="text" class="form-control" name="invested" [(ngModel)]="cf.invested" (ngModelChange)="autoCalculationGrossCF(cf)" placeholder="-" pattern="[-]?[0-9]*\.?[0-9]+" #invested="ngModel"/>
                                                    <div [hidden]="invested.valid || invested.pristine" class="alert alert-danger">
                                                        <!--Only negative number could be entered-->
                                                        Only number could be entered
                                                    </div>
                                                </td>

                                                <td>
                                                    <input type="text" class="form-control" name="realized" [(ngModel)]="cf.realized" (ngModelChange)="autoCalculationGrossCF(cf)" placeholder="-" pattern="[-]?[0-9]*\.?[0-9]+" #realized="ngModel"/>
                                                    <div [hidden]="realized.valid || realized.pristine" class="alert alert-danger">
                                                        <!--Only positive number could be entered-->
                                                        Only number could be entered
                                                    </div>
                                                </td>

                                                <td>
                                                    <input type="text" class="form-control" name="unrealized" [(ngModel)]="cf.unrealized" (ngModelChange)="autoCalculationGrossCF(cf)" placeholder="-" pattern="[-]?[0-9]*\.?[0-9]+" #unrealized="ngModel"/>
                                                    <div [hidden]="unrealized.valid || unrealized.pristine" class="alert alert-danger">
                                                        <!--Only positive number could be entered-->
                                                        Only number could be entered
                                                    </div>
                                                </td>

                                                <td *ngIf="cf.autoCalculation == false">
                                                    <input type="text" class="form-control" name="grossCF" [(ngModel)]="cf.grossCF" placeholder="-" pattern="[-]?[0-9]*\.?[0-9]+" [disabled]="cf.autoCalculation" #grossCF="ngModel"/>
                                                    <div [hidden]="grossCF.valid || grossCF.pristine" class="alert alert-danger">
                                                        Only number could be entered
                                                    </div>
                                                </td>
                                                <td *ngIf="cf.autoCalculation == true" style="font-size: small; vertical-align: middle">
                                                    {{(cf.grossCF/1000000) | number:'1.1-2'}}m
                                                </td>

                                                <td class="col-md-1">
                                                    <input type="checkbox" [(ngModel)]="cf.autoCalculation" (ngModelChange)="autoCalculationGrossCF(cf)">
                                                </td>

                                                <td>
                                                    <button type="button" class="btn-xs btn-danger" style="display: inline-block"  (click)="removeRowGrossCF(cf)">
                                                        <span class="glyphicon glyphicon-minus"></span>
                                                    </button>
                                                </td>
                                            </tr>
                                            <!--<button type="button" class="btn-xs btn-primary" style="display: inline-block" (click)="addRowGrossCF()"><span class="glyphicon glyphicon-plus"></span></button>-->
                                        </table>

                                        <div class="row">
                                            <div class="col-md-12">
                                                <div class="col-md-1 pull-left">
                                                    <button type="button" class="btn btn-primary" *ngIf="canEdit()" (click)="addRowGrossCF()">
                                                        Add transaction
                                                    </button>
                                                </div>
                                                <div class="pull-right">
                                                    <!--<button type="submit" class="btn btn-success" *ngIf="canEdit()" (click)="saveGrossCF()" [disabled]="fund.id == 0 || fund.id == null">-->
                                                        <!--SAVE-->
                                                    <!--</button>-->
                                                    <small>{{this.grossCashFlowSaveTypeMessage}}</small>
                                                    <button type="submit" class="btn btn-success" *ngIf="canEdit()" (click)="saveGrossCFAndRecalculatePerformanceIddAndUpdateStatistics()" [disabled]="fund.id == 0 || fund.id == null">
                                                        <!--SAVE and RECALCULATE the Performance-->
                                                        SAVE
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-12">
                                        <hr style="border-top: 1px solid #B5AEAE"/>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="portfolioInfo" class="tab-pane fade">
                        <div style="position: relative;">
                            <div [ngBusy]="busy">
                                <br>
                                <div class="row">
                                    <div style="text-align: center">
                                        <h4>{{fund.fundName}} Portfolio Info</h4>
                                    </div>
                                </div>
                                <br>
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="row">
                                            <div class="col-md-12">
                                                <div class="pull-right">
                                                    <button type="submit" class="btn btn-success" *ngIf="canEdit()" (click)="savePortfolioInfo()" [disabled]="fund.id == 0 || fund.id == null">
                                                        SAVE
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                        <br>
                                        <table class="table table-hover table-responsive" style="font-size: smaller">
                                            <tr>
                                                <th>Company name</th>
                                                <th>Company description</th>
                                                <th>Industry</th>
                                                <th>Country</th>
                                                <th>Type of investment</th>
                                                <th>Control</th>
                                                <th>Deal source</th>
                                                <th>Currency</th>
                                            </tr>
                                            <tr *ngFor="let performance of fund.companyPerformanceIdd">
                                                <td style="font-size: small">
                                                    {{performance.companyName}}
                                                </td>

                                                <td>
                                                    <input type="text" class="form-control" name="companyDescription" [(ngModel)]="performance.companyDescription" placeholder="-" pattern="[A-Za-z0-9 ().-]{1,50}" #companyDescription="ngModel"/>
                                                    <div [hidden]="companyDescription.valid || companyDescription.pristine" class="alert alert-danger">
                                                        Company description must contain 1-50 characters A-Z, a-z, 0-9, space, period, hyphen, '(', ')'
                                                    </div>
                                                </td>

                                                <td>
                                                    <input type="text" class="form-control" name="industry" [(ngModel)]="performance.industry" placeholder="-" pattern="[A-Za-z0-9 ().-]{1,50}" #industry="ngModel"/>
                                                    <div [hidden]="industry.valid || industry.pristine" class="alert alert-danger">
                                                        Industry must contain 1-50 characters A-Z, a-z, 0-9, space, period, hyphen, '(', ')'
                                                    </div>
                                                </td>

                                                <td>
                                                    <input type="text" class="form-control" name="country" [(ngModel)]="performance.country" placeholder="-" pattern="[A-Za-z0-9 ().-]{1,50}" #country="ngModel"/>
                                                    <div [hidden]="country.valid || country.pristine" class="alert alert-danger">
                                                        Country must contain 1-50 characters A-Z, a-z, 0-9, space, period, hyphen, '(', ')'
                                                    </div>
                                                </td>

                                                <td>
                                                    <input type="text" class="form-control" name="typeOfInvestment" [(ngModel)]="performance.typeOfInvestment" placeholder="-" pattern="[A-Za-z0-9 ().-]{1,50}" #typeOfInvestment="ngModel"/>
                                                    <div [hidden]="typeOfInvestment.valid || typeOfInvestment.pristine" class="alert alert-danger">
                                                        Type of investment must contain 1-50 characters A-Z, a-z, 0-9, space, period, hyphen, '(', ')'
                                                    </div>
                                                </td>

                                                <td>
                                                    <input type="text" class="form-control" name="control" [(ngModel)]="performance.control" placeholder="-" pattern="[A-Za-z0-9 ().-]{1,50}" #control="ngModel"/>
                                                    <div [hidden]="control.valid || control.pristine" class="alert alert-danger">
                                                        Control must contain 1-50 characters A-Z, a-z, 0-9, space, period, hyphen, '(', ')'
                                                    </div>
                                                </td>

                                                <td>
                                                    <input type="text" class="form-control" name="dealSource" [(ngModel)]="performance.dealSource" placeholder="-" pattern="[A-Za-z0-9 ().-]{1,50}" #dealSource="ngModel"/>
                                                    <div [hidden]="dealSource.valid || dealSource.pristine" class="alert alert-danger">
                                                        Deal source must contain 1-50 characters A-Z, a-z, 0-9, space, period, hyphen, '(', ')'
                                                    </div>
                                                </td>

                                                <td>
                                                    <input type="text" class="form-control" name="currency" [(ngModel)]="performance.currency" placeholder="-" pattern="[A-Za-z0-9 ().-]{1,50}" #currency="ngModel"/>
                                                    <div [hidden]="currency.valid || currency.pristine" class="alert alert-danger">
                                                        Currency must contain 1-50 characters A-Z, a-z, 0-9, space, period, hyphen, '(', ')'
                                                    </div>
                                                </td>
                                            </tr>
                                        </table>
                                        <div class="row">
                                            <div class="col-md-12">
                                                <div class="pull-right">
                                                    <button type="submit" class="btn btn-success" *ngIf="canEdit()" (click)="savePortfolioInfo()" [disabled]="fund.id == 0 || fund.id == null">
                                                        SAVE
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-12">
                                        <hr style="border-top: 1px solid #B5AEAE"/>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="dynamicIRR" class="tab-pane fade">
                        <div style="position: relative;">
                            <div [ngBusy]="busy">
                                <br>
                                <div class="row">
                                    <div style="text-align: center">
                                        <h4>{{fund.fundName}} IRR calculator</h4>
                                    </div>
                                </div>
                                <br>
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label for="companyDescriptionIRR">Company description</label>
                                                <select class="form-control" id="companyDescriptionIRR" [(ngModel)]="irrParam.companyDescription">
                                                    <option value="NONE">---</option>
                                                    <option *ngFor = "let companyDescription of companyDescriptionIRRList" [value]="companyDescription">{{companyDescription}}</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label for="industryIRR">Industry</label>
                                                <select class="form-control" id="industryIRR" [(ngModel)]="irrParam.industry">
                                                    <option value="NONE">---</option>
                                                    <option *ngFor = "let industry of industryIRRList" [value]="industry">{{industry}}</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label for="countryIRR">Country</label>
                                                <select class="form-control" id="countryIRR" [(ngModel)]="irrParam.country">
                                                    <option value="NONE">---</option>
                                                    <option *ngFor = "let country of countryIRRList" [value]="country">{{country}}</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label for="typeOfInvestmentIRR">Type of investment</label>
                                                <select class="form-control" id="typeOfInvestmentIRR" [(ngModel)]="irrParam.typeOfInvestment">
                                                    <option value="NONE">---</option>
                                                    <option *ngFor = "let typeOfInvestment of typeOfInvestmentIRRList" [value]="typeOfInvestment">{{typeOfInvestment}}</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label for="controlIRR">Control</label>
                                                <select class="form-control" id="controlIRR" [(ngModel)]="irrParam.control">
                                                    <option value="NONE">---</option>
                                                    <option *ngFor = "let control of controlIRRList" [value]="control">{{control}}</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label for="dealSourceIRR">Deal source</label>
                                                <select class="form-control" id="dealSourceIRR" [(ngModel)]="irrParam.dealSource">
                                                    <option value="NONE">---</option>
                                                    <option *ngFor = "let dealSource of dealSourceIRRList" [value]="dealSource">{{dealSource}}</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label for="currencyIRR">Currency</label>
                                                <select class="form-control" id="currencyIRR" [(ngModel)]="irrParam.currency">
                                                    <option value="NONE">---</option>
                                                    <option *ngFor = "let currency of currencyIRRList" [value]="currency">{{currency}}</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-12">
                                                <div class="pull-left">
                                                    <button type="submit" class="btn btn-success" (click)="calculateIRR()" [disabled]="fund.id == 0 || fund.id == null">
                                                        CALCULATE
                                                    </button>
                                                    Your IRR is {{dynamicIRR | number:'1.0-2'}}%
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-12">
                                        <hr style="border-top: 1px solid #B5AEAE"/>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="netCashflow" class="tab-pane fade">
            <br>
            <div class="row">
                <div style="text-align: center">
                    <h4>{{fund.fundName}} Net Cashflow</h4>
                </div>
            </div>
            <br>
            <div class="row">
                <div class="col-md-12">
                    <table class="table table-hover table-responsive" style="font-size: smaller">
                        <tr>
                            <th>Fund name</th>
                            <th style="width: 6%">Currency</th>
                            <th>Date of transaction</th>
                            <th>Drawn</th>
                            <th>Distributed</th>
                            <th>NAV</th>
                            <th>Net Cashflow</th>
                            <th>Type of Fund transaction</th>
                        </tr>
                        <tr *ngFor="let cf of fund.netCashflow">
                            <td><input style="width: 100%" type="text" [(ngModel)]="cf.fundName" /></td>
                            <td><input style="width: 100%" type="text" [(ngModel)]="cf.currency"/></td>
                            <td><input style="width: 100%" type="text" [(ngModel)]="cf.transactionDate"/></td>
                            <td><input style="width: 100%" type="text" [(ngModel)]="cf.drawn"/></td>
                            <td><input style="width: 100%" type="text" [(ngModel)]="cf.distributed"/></td>
                            <td><input style="width: 100%" type="text" [(ngModel)]="cf.nav"/></td>
                            <td><input style="width: 100%" type="text" [(ngModel)]="cf.netCF"/></td>
                            <td><input style="width: 100%" type="text" [(ngModel)]="cf.typeOfFundTransaction"/></td>
                        </tr>
                        <button type="button" class="btn-xs btn-primary" style="display: inline-block" (click)="addRowNetCf()"><span class="glyphicon glyphicon-plus"></span></button>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>